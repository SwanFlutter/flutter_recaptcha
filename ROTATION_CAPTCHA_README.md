# Rotation CAPTCHA - راهنمای استفاده

## مفهوم

Rotation CAPTCHA یک روش تایید کاربر است که در آن:
1. یک تصویر واحد نمایش داده می‌شود
2. قسمت داخلی (مرکزی) تصویر به صورت تصادفی چرخانده شده است
3. کاربر باید با کشیدن اسلایدر، قسمت داخلی را بچرخاند تا با قسمت بیرونی تطابق پیدا کند
4. وقتی تصویر به حالت صحیح برگردد، تایید موفق است

## مثال واقعی

تصور کنید تصویر یک درخت دارید:
- **قسمت بیرونی:** تنه درخت به صورت عمودی و صاف
- **قسمت داخلی:** همان تنه اما چرخیده شده (مثلاً 45 درجه)
- **هدف کاربر:** چرخاندن قسمت داخلی تا تنه دوباره صاف و عمودی شود

## استفاده در کد

```dart
import 'package:flutter_recaptcha/flutter_recaptcha.dart';

showDialog(
  context: context,
  builder: (context) => Dialog(
    child: RotationCaptchaWidget(
      imagePath: 'assets/your_image.jpg',
      tolerance: 20.0, // دقت تطابق (درجه)
      onSuccess: () {
        print('تایید موفق!');
        Navigator.pop(context);
      },
      onFailed: () {
        print('تایید ناموفق!');
      },
    ),
  ),
);
```

## پارامترها

- `imagePath`: مسیر تصویر (یک تصویر واحد برای هر دو قسمت)
- `tolerance`: میزان خطای مجاز برای تطابق (پیش‌فرض: 15 درجه)
- `animationDuration`: مدت زمان انیمیشن (پیش‌فرض: 300ms)
- `onSuccess`: تابعی که پس از تایید موفق فراخوانی می‌شود
- `onFailed`: تابعی که پس از تایید ناموفق فراخوانی می‌شود

## انتخاب تصویر مناسب

برای بهترین تجربه کاربری، تصاویری را انتخاب کنید که:
- جزئیات واضح و قابل تشخیص داشته باشند
- خطوط یا الگوهای مشخص داشته باشند (مثل تنه درخت، ساختمان، حیوانات)
- کنتراست خوبی داشته باشند
- نه خیلی ساده و نه خیلی پیچیده باشند

## مثال‌های تصویر خوب

✅ تصویر حیوانات (سگ، گربه، پرنده)
✅ تصویر ساختمان‌ها
✅ تصویر درخت‌ها
✅ تصویر اشیاء با خطوط مشخص

## مثال‌های تصویر نامناسب

❌ تصاویر یکنواخت (آسمان آبی، دیوار ساده)
❌ تصاویر بسیار پیچیده (شلوغ)
❌ تصاویر با کنتراست کم

## نحوه کار

1. هنگام بارگذاری، یک زاویه تصادفی (بین 30 تا 330 درجه) تولید می‌شود
2. قسمت داخلی تصویر به اندازه این زاویه چرخانده می‌شود
3. کاربر اسلایدر را می‌کشد تا قسمت داخلی را بچرخاند
4. هنگامی که اسلایدر به انتها می‌رسد، سیستم بررسی می‌کند:
   - اگر زاویه فعلی نزدیک به 0 درجه باشد (در محدوده tolerance) → موفق ✅
   - در غیر این صورت → ناموفق ❌ و یک چالش جدید تولید می‌شود

## مثال کامل

برای مشاهده مثال کامل:

```bash
cd example
flutter run
```

سپس گزینه "Rotation CAPTCHA" را انتخاب کنید.

## تنظیمات پیشرفته

### تغییر دقت تطابق

```dart
RotationCaptchaWidget(
  imagePath: 'assets/image.jpg',
  tolerance: 10.0, // دقت بالاتر (سخت‌تر)
)
```

### تغییر سرعت انیمیشن

```dart
RotationCaptchaWidget(
  imagePath: 'assets/image.jpg',
  animationDuration: Duration(milliseconds: 500), // کندتر
)
```

## نکات امنیتی

- زاویه چرخش به صورت تصادفی تولید می‌شود
- هر بار که کاربر fail می‌کند، یک چالش جدید با زاویه متفاوت تولید می‌شود
- این روش برای جلوگیری از ربات‌های ساده مناسب است

## پشتیبانی

برای گزارش مشکل یا پیشنهاد، لطفاً یک Issue در GitHub ایجاد کنید.
